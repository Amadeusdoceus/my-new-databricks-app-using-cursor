# Sync Script for Databricks Apps
# Synchronizes local source code to the Databricks Workspace
 
$CLI_PATH = "C:\Databricks\scripts\databricks_cli\databricks.exe"
$DB_PROFILE = "adb-7941093640821140"
$REMOTE_PATH = "/Workspace/Users/amadeu.ludwig@edenred.com/demo-app"
 
Write-Host "--- Syncing Local Files to Databricks Workspace ---" -ForegroundColor Cyan
& $CLI_PATH sync . $REMOTE_PATH --watch=false --profile $DB_PROFILE
 
if ($LASTEXITCODE -eq 0) {
    Write-Host "Sync Completed Successfully!" -ForegroundColor Green
}
else {
    Write-Host "Sync Failed with exit code $LASTEXITCODE" -ForegroundColor Red
}